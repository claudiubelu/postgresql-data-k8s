# postgresql-data-k8s Charm Publishing Job

After a Pull Request merged, the ``Publish Charm`` [Github action](../.github/workflows/publish.yaml) will run, which will build the charm and publish it to Charmhub on the edge channel. This action requires the ``CHARMHUB_TOKEN`` repository secret (Settings > Secrets > Actions > New repository secret) to be set up in the project in order to push the new charm revision. The token can be generated by running:

```bash
charmcraft login --export=secrets-certbot.auth --charm=postgresql-data-k8s \
      --permission=package-manage --permission=package-view-revisions \
      --channel=edge --ttl=15768000
```

This token will have to be updated periodically since it has a certain time to live set.
